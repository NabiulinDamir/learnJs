<div class="p-1">
  <div class="d-flex justify-content-between mb-1">
    <h5>{{ (type() == 'income') ? 'Доходы' : 'Расходы'}}</h5>
    <div class="d-flex gap-1">
      @if(selectedOperations.length){ 
        <button type="button" class="btn btn-secondary btn-sm" (click)="selectedOperations = []"> Сбросить </button>
        <button type="button" class="btn btn-danger btn-sm" (click)="deleteModal.show()"> Удалить </button>
      }
      <button type="button" class="btn btn-primary btn-sm" (click)="createModal.show(); createIncomeForm.setDefault()"> Добавить </button>
    </div>
  </div>

  <my-table class="w-100" 
    [allData]="(type() == 'income') ? this.localStorage.incomeOperations : this.localStorage.expensOperations"
    [(selectedData)]="selectedOperations"
  > </my-table>
</div>

<!-- //////////////////////////////////////////// -->

<my-modal
  #createModal
  (deny)="createModal.hide()"
  (confirm)="createIncomeForm.submit()"
  [title]="'Добавить ' + ((type() == 'income') ? 'доход' : 'расход')"
  [isLoaded]="modalIsLoad"
>
  <my-form
    #createIncomeForm
    [selectorItems]="formatToStringArr((type() == 'income') ? this.localStorage.incomeCategories : this.localStorage.expensCategories)"
    (onSubmit)="createOperation($event); "
  ></my-form>
</my-modal>

<my-modal
  #deleteModal
  (deny)="deleteModal.hide()"
  (confirm)="deleteSelectedOperations()"
  title="Удалить операции"
>
  Вы действительно хотите удалить выбранные {{ selectedOperations.length }} операций?
</my-modal>